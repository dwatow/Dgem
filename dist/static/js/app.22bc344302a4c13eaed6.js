webpackJsonp([1],{"+skl":function(e,t){},"0e5m":function(e,t){},CyMa:function(e,t){},IshP:function(e,t){},K03H:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},a,!1,function(e){n("TRmd")},null,null).exports,i=n("Xxa5"),o=n.n(i),c=n("exGp"),u=n.n(c),l=n("/ocq"),p=this,d={data:function(){return{isCollapsed:!1}},computed:{isFunctionEnabel:function(){return!this.$store.getters.self.is_child_account},menuitemClasses:function(){return["menu-item",p.isCollapsed?"collapsed-menu":""]},userHeadUpDisplay:function(){return this.$store.getters.self.id+" "+this.$store.getters.self.name}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("Layout",[n("Sider",{attrs:{breakpoint:"md",collapsible:"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("Menu",{class:e.menuitemClasses,attrs:{"active-name":"2-1",theme:"dark",width:"auto"}},[n("Submenu",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"person"}}),e._v("\n                      個人中心\n                  ")],1),e._v(" "),n("router-link",{attrs:{to:"userProfile"}},[n("MenuItem",{attrs:{name:"2-1"}},[e._v("基本資料")])],1),e._v(" "),n("router-link",{attrs:{to:"ChildAccount"}},[n("MenuItem",{attrs:{name:"2-2"}},[e._v("子母帳號")])],1),e._v(" "),n("router-link",{attrs:{to:"notStart"}},[n("MenuItem",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"2-4"}},[e._v("夢想卡解涷")])],1)],2),e._v(" "),n("Submenu",{attrs:{name:"3"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"leaf"}}),e._v("\n                      夢寶龍樹種區\n                  ")],1),e._v(" "),n("router-link",{attrs:{to:"BuyDragon"}},[n("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-1"}},[e._v("夢寶龍購買")])],1),e._v(" "),n("router-link",{attrs:{to:"Dragon"}},[n("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-2"}},[e._v("夢寶龍激活")])],1),e._v(" "),n("router-link",{attrs:{to:"Tree"}},[n("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-3"}},[e._v("夢寶樹激活")])],1),e._v(" "),n("router-link",{attrs:{to:"EventsLog"}},[n("MenuItem",{attrs:{name:"3-4"}},[e._v("操作明細查詢")])],1),e._v(" "),n("router-link",{attrs:{to:"Activating"}},[n("MenuItem",{attrs:{name:"3-5"}},[e._v("開採狀況")])],1)],2),e._v(" "),n("Submenu",{attrs:{name:"4"}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:"social-usd"}}),e._v("\n                      寶石卡片管理\n                  ")],1),e._v(" "),n("router-link",{attrs:{to:"Wallet"}},[n("MenuItem",{attrs:{name:"4-3"}},[e._v("寶石庫存")])],1),e._v(" "),n("router-link",{attrs:{to:"WalletLog"}},[n("MenuItem",{attrs:{name:"4-4"}},[e._v("進出明細")])],1),e._v(" "),n("router-link",{attrs:{to:"TransferUSD"}},[n("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"4-5"}},[e._v("美金轉帳")])],1)],2),e._v(" "),n("router-link",{attrs:{to:"Group"}},[n("MenuItem",{attrs:{name:"5-1"}},[n("Icon",{attrs:{type:"person-stalker"}}),e._v("\n                家族開採狀況\n              ")],1)],1)],1),e._v(" "),n("div",{attrs:{slot:"trigger"},slot:"trigger"})],1),e._v(" "),n("Layout",[n("Header",{staticClass:"layout-header-bar"},[n("span",[e._v(e._s(e.userHeadUpDisplay))])]),e._v(" "),n("Content",{style:{padding:"20px",minHeight:"220px"}},[n("keep-alive",[n("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var h=n("VU/8")(d,m,!1,function(e){n("bHAn")},null,null).exports,g={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"noStart"},[this._v("\n  Comming soon...\n")])},staticRenderFns:[]};var f=n("VU/8")({},g,!1,function(e){n("SWKE")},null,null).exports,v={data:function(){var e=this;return{columns1:[{title:"ID",key:"id",width:100},{title:"夢寶龍的擁有者",key:"owner_name",minWidth:150},{title:"夢寶龍激活對象",key:"user_name",minWidth:150},{title:"選擇激活對象",key:"operate",width:200,render:function(t,n){return t("div",[t("Dropdown",{props:{trigger:"click"},class:"defaultStyle",on:{"on-click":function(t){n.row.operate=e.dropdownItems.filter(function(e){return e.id===t}).shift()}}},[t("span",[n.row.operate.id+" "+n.row.operate.name+" ",t("Icon",{props:{type:"arrow-down-b"},style:{marginRight:"5px"}})]),t("DropdownMenu",{slot:"list"},e.dropdownItems.sort(function(e,t){return e.id-t.id}).map(function(e){return t("DropdownItem",{props:{name:e.id,disabled:n.row.activated}},e.id+" "+e.name)}))])])}},{title:"動作",key:"action",width:150,align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:n.row.activated},on:{click:function(){var t=n.row.id;e.activate({data:{user_id:n.row.operate.id},idDragon:t})}}},"激活")])}}]}},computed:{dragon:function(){return this.$store.getters.isExist("dragon","dragon")?this.$store.getters.dragon.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.operate={id:"",name:"選一個對象"},e}):[]},paging:function(){return this.$store.getters.paging("dragon","dragon")},dropdownItems:function(){return this.$store.getters.allUsers}},methods:{changePage:function(e){var t=this;return u()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("goToDragonPage",{nextIndex:e});case 2:case"end":return n.stop()}},n,t)}))()},activate:function(e){var t=this;return u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=t.$store.getters.paging("dragon","dragon").curr_page,n.next=4,t.$store.dispatch("activateDragon",e);case 4:t.$store.dispatch("goToDragonPage",{nextIndex:r}),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:t.$store.dispatch("userDownLines",{idUser:t.$store.getters.myId}),t.$store.dispatch("allChildAccount"),t.$store.dispatch("whoAmI");case 12:case"end":return n.stop()}},n,t,[[0,7]])}))()}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columns1,data:e.dragon}})],1)},staticRenderFns:[]};var _=n("VU/8")(v,w,!1,function(e){n("xw02")},null,null).exports,x=n("gRE1"),y=n.n(x),k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h4",[this._v("目前美金額度")]),this._v(" "),t("span",{staticClass:"currUSD"},[this._v(this._s(this.currUSD))]),this._v("元\n")])},staticRenderFns:[]};var b=n("VU/8")({computed:{currUSD:function(){return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.filter(function(e){return 4===e.gem}).pop().amount:0}}},k,!1,function(e){n("g1Gy")},"data-v-31930f7f",null).exports,I={components:{CurrUsdWallet:b},data:function(){var e=this;return{columns1:[{title:"夢寶樹的擁有者",key:"owner_name",minWidth:120},{title:"夢寶樹激活對象",key:"user_name",minWidth:120},{title:"選擇激活對象",key:"operate",width:200,render:function(t,n){return t("div",[t("Dropdown",{props:{trigger:"click",disabled:!0},class:"defaultStyle",on:{"on-click":function(t){n.row.operate=e.dropdownItems.filter(function(e){return e.id===t}).shift()}}},[t("span",[n.row.operate.id+" "+n.row.operate.name+" ",t("Icon",{props:{type:"arrow-down-b"},style:{marginRight:"5px"}})]),t("DropdownMenu",{slot:"list"},e.dropdownItems.sort(function(e,t){return e.id-t.id}).map(function(e){return t("DropdownItem",{props:{name:e.id,disabled:n.row.activated}},e.id+" "+e.name)}))])])}},{title:"動作",key:"action",width:150,align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:n.row.activated},on:{click:function(){var t=n.row.id;e.activate({data:{user_id:n.row.operate.id},idTree:t})}}},"激活")])}}]}},computed:{tree:function(){return this.$store.getters.isExist("tree","tree")?this.$store.getters.tree.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.operate={id:"",name:"選一個對象"},e}):[]},paging:function(){return this.$store.getters.paging("tree","tree")},dropdownItems:function(){var e={};return e[""+this.$store.getters.self.id]=this.$store.getters.self,this.$store.getters.allChildAccount.forEach(function(t){e[t.id]=t}),y()(e).filter(function(e){return e.activated})}},methods:{changePage:function(e){var t=this;return u()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("goToTreePage",{nextIndex:e});case 2:case"end":return n.stop()}},n,t)}))()},buy:function(){var e=this;return u()(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={user_id:e.$store.getters.myId},r=e.$store.getters.paging("tree","tree").curr_page,t.next=4,e.$store.dispatch("buyTree",{data:n});case 4:return t.next=6,e.$store.dispatch("WalletPage");case 6:e.$store.dispatch("goToTreePage",{nextIndex:r});case 7:case"end":return t.stop()}},t,e)}))()},activate:function(e){var t=this;return u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$store.getters.paging("tree","tree").curr_page,n.next=3,t.$store.dispatch("activateTree",e);case 3:t.$store.dispatch("goToTreePage",{nextIndex:r});case 4:case"end":return n.stop()}},n,t)}))()}}},$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CurrUsdWallet"),e._v(" "),n("Button",{attrs:{type:"error"},on:{click:function(t){e.buy()}}},[e._v("買一顆全新夢寶樹")]),e._v(" "),n("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columns1,data:e.tree}})],1)},staticRenderFns:[]};var T=n("VU/8")(I,$,!1,function(e){n("o/xz")},null,null).exports,A={data:function(){return{columnsTree:[{title:"擁有者",key:"owner_name",minWidth:120},{title:"剩餘開採數量",key:"remain",minWidth:120},{title:"原始開採數量",key:"capacity",minWidth:120},{title:"目前開採進度",key:"progress",minWidth:120},{title:"激活時間",key:"activated_at",minWidth:200}]}},computed:{tree:function(){return this.$store.getters.isExist("tree","activeTree")?this.$store.getters.activeTree.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.status=e.activated&&e.activated_at||"未激活",e}):[]},pagingTree:function(){return this.$store.getters.paging("tree","activeTree")}},methods:{changeTreePage:function(e){var t=this;return u()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("goToActiveTreePage",{nextIndex:e});case 2:case"end":return n.stop()}},n,t)}))()}}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Page",{attrs:{total:e.pagingTree.total,"page-size":e.pagingTree.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changeTreePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columnsTree,data:e.tree}})],1)},staticRenderFns:[]};var D=n("VU/8")(A,U,!1,function(e){n("SW59")},null,null).exports,S={data:function(){var e=this;return{motherId:"",columns1:[{title:"ID",key:"id",width:100},{title:"使用者名稱",key:"name",minWidth:150},{title:this.$store.getters.gems[0],key:"gem0",minWidth:100},{title:this.$store.getters.gems[1],key:"gem1",minWidth:100},{title:this.$store.getters.gems[2],key:"gem2",minWidth:100},{title:this.$store.getters.gems[3],key:"gem3",minWidth:100},{title:"是否被凍結帳號",key:"isFrozen",minWidth:150},{title:"是否已激活",key:"isActivat",width:150},{title:"動作",key:"action",width:120,fixed:"right",align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:e.isChildAccount?"success":"primary",disabled:e.isChildAccount&&e.$store.getters.self.id!==n.row.id},on:{click:function(t){if(e.isChildAccount)e.$store.dispatch("whoAmI");else{var r=e.$store.getters.childAccount.filter(function(e){return e.id===n.row.id}).shift();e.$store.commit("IAm",r)}}}},e.labelTitle)])}}]}},computed:{isChildAccount:function(){return this.$store.getters.self.is_child_account},labelTitle:function(){return this.$store.getters.self.is_child_account?"恢復身份":"變身"},childAccount:function(){return this.$store.getters.isExist("user","childAccount")?this.$store.getters.childAccount.map(function(e){return e.isFrozen=e.frozen?"是":"否",e.isActivat=e.activated?"是":"否",e.action={label:"變身"},e}).sort(function(e,t){return parseInt(e.id)-parseInt(t.id)}):[]},paging:function(){return this.$store.getters.paging("user","childAccount")}},methods:{changePage:function(e){var t=this;return u()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("goToChildAccountPage",{nextIndex:e});case 2:case"end":return n.stop()}},n,t)}))()},addChildAccount:function(){var e=this;return u()(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$store.getters.paging("user","childAccount").curr_page,r={upline_id:e.motherId},t.next=4,e.$store.dispatch("addChildAccount",{data:r});case 4:e.$store.dispatch("goToChildAccountPage",{nextIndex:n});case 5:case"end":return t.stop()}},t,e)}))()}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("子帳號")]),e._v(" "),n("label",{attrs:{for:"motherId"}},[e._v("指定帳號 ID: ")]),n("Input",{staticStyle:{width:"120px"},attrs:{id:"motherId",placeholder:"0"},model:{value:e.motherId,callback:function(t){e.motherId=t},expression:"motherId"}}),e._v(" "),n("Button",{attrs:{type:"error",disabled:e.isChildAccount},on:{click:function(t){e.addChildAccount()}}},[e._v("增加子帳號")]),e._v(" "),n("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columns1,data:e.childAccount}})],1)},staticRenderFns:[]};var P=n("VU/8")(S,C,!1,function(e){n("0e5m")},null,null).exports,W={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("Table",{attrs:{stripe:"",columns:this.columns1,data:this.wallet}})],1)},staticRenderFns:[]};var L=n("VU/8")({data:function(){return{columns1:[{title:"寶石種類",key:"gem_name",minWidth:120,render:function(e,t){return e("div",[e("img",{class:{"gems-shadow":!0},domProps:{src:"static/images/icon_gem"+t.index+".svg"}}),e("span",t.row.gem_name)])}},{title:"寶石種類",key:"amount",minWidth:120}]}},computed:{wallet:function(){var e=this;return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.map(function(t){return t.gem_name=e.$store.getters.gems[t.gem],t}):[]}}},W,!1,function(e){n("ZdXK")},null,null).exports,E={components:{CurrUsdWallet:b},data:function(){var e=this;return{columns1:[{title:"ID",key:"id",width:100},{title:"夢寶龍的擁有者",key:"owner_name",minWidth:150},{title:"夢寶龍激活對象",key:"user_name",minWidth:150},{title:"動作",key:"action",maxWidth:100,render:function(t,n){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:n.row.activated},on:{click:function(){var t=n.row.id;e.buy({data:{owner_id:e.$store.getters.self.id},idDragon:t})}}},"購買")])}}]}},computed:{allDragon:function(){return this.$store.getters.isExist("dragon","allDragon")?this.$store.getters.allDragon.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.operate={id:"",name:"選一個對象"},e}):[]},paging:function(){return this.$store.getters.paging("dragon","allDragon")}},methods:{changePage:function(e){var t=this;return u()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("goToAllDragonPage",{nextIndex:e});case 2:case"end":return n.stop()}},n,t)}))()},buy:function(e){var t=this;return u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.$store.getters.paging("dragon","allDragon").curr_page,n.next=3,t.$store.dispatch("buyDragon",e);case 3:return n.next=5,t.$store.dispatch("WalletPage");case 5:t.$store.dispatch("goToAllDragonPage",{nextIndex:r});case 6:case"end":return n.stop()}},n,t)}))()}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("CurrUsdWallet"),e._v(" "),n("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columns1,data:e.allDragon}})],1)},staticRenderFns:[]};var F=n("VU/8")(E,R,!1,function(e){n("klCw")},null,null).exports,O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("自己")]),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columnsUser,data:e.self}}),e._v(" "),n("h1",[e._v("下線")]),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columnsUser,data:e.downlines}})],1)},staticRenderFns:[]};var M=n("VU/8")({data:function(){return{columnsUser:[{title:"ID",key:"id",width:100},{title:"name",key:"name",minWidth:150},{title:"總開採數",key:"total_capacity",minWidth:85},{title:"未開採",key:"total_remain",minWidth:75},{title:"已開採",key:"total_processed",minWidth:75},{title:"傘下帳號數量",key:"total_user_count",minWidth:110},{title:"是否子帳號",key:"isChild",minWidth:100},{title:"是否激活",key:"isActivat",minWidth:85}]}},computed:{self:function(){return[this.$store.getters.self].map(function(e){return e.total_processed=e.total_capacity-e.total_remain,e.isActivat=e.activated?"是":"否",e.isChild=e.is_child_account?"是":"否",e})},downlines:function(){return this.$store.getters.downlines.map(function(e){return e.total_processed=e.total_capacity-e.total_remain,e.isActivat=e.activated?"是":"否",e.isChild=e.is_child_account?"是":"否",e})}}},O,!1,function(e){n("CyMa")},"data-v-750a6956",null).exports,N={components:{CurrUsdWallet:b},data:function(){return{id:0,amount:0,busy:!1}},computed:{currUSD:function(){return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.filter(function(e){return 4===e.gem}).pop().amount:0},myId:function(){return this.$store.getters.myId}},methods:{transferTo:function(){var e=this;return u()(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.busy=!0,n={user_id:e.id,amount:e.amount},t.next=5,e.$store.dispatch("TransferUSD",{data:n});case 5:return t.next=7,e.$store.dispatch("WalletPage");case 7:e.busy=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.busy=!1;case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()}}},q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"form"},[n("h4",[e._v("轉帳對象")]),e._v(" "),n("Input",{staticClass:"input-id",staticStyle:{width:"300px"},attrs:{placeholder:""+e.myId,clearable:""},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),n("CurrUsdWallet"),e._v(" "),n("div",{staticClass:"form"},[n("h4",[e._v("轉出額度")]),e._v(" "),n("Input",{staticClass:"input-amount",staticStyle:{width:"300px"},attrs:{placeholder:"0",clearable:""},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),e._v(" "),n("div",{staticClass:"form"},[n("Alert",{attrs:{type:"error"}},[e._v("接下來的行為，將不可回溯!!")])],1),e._v(" "),n("Button",{attrs:{type:"error"},on:{click:function(t){e.transferTo()}}},[e._v("轉帳")]),e._v(" "),e.busy?n("Spin",[e._v("轉帳中...")]):e._e()],1)},staticRenderFns:[]};var z=n("VU/8")(N,q,!1,function(e){n("K03H")},"data-v-0dd87dc8",null).exports,G=n("QlUI"),V=n.n(G),B={data:function(){return{showButton:!1}},mounted:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("CreateQRcode");case 2:e.renderQRcode(),setTimeout(function(){e.isLoginSuccess()},3500);case 4:case"end":return t.stop()}},t,e)}))()},methods:{renderQRcode:function(){var e=V()(0,"L");e.addData(""+this.$store.getters.qrcode),e.make(),document.querySelector("#qrcodeImg").src=e.createDataURL(10),this.showButton=!0},isLoginSuccess:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("LoginQRcode");case 3:e.$router.push("/Main"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$store.getters.isLogin||setTimeout(e.isLoginSuccess,2e3);case 9:case"end":return t.stop()}},t,e,[[0,6]])}))()}}},Q={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("行動裝置刷 QR code 登入")]),this._v(" "),t("div",{attrs:{id:"placeHolder"}},[t("img",{attrs:{id:"qrcodeImg",src:"",alt:""}})])])}]};var H={components:{QRcodeLogin:n("VU/8")(B,Q,!1,function(e){n("PyqD")},"data-v-cb9f09c2",null).exports},data:function(){var e=this;return{areaType:{true:"帳號密碼登入",false:"註冊新帳號"},switchAreaType:!0,SignIn:{username:"",password:""},SignInRule:{username:[{required:!0,message:"填入要登入的使用者帳號",trigger:"blur"}],password:[{required:!0,message:"填入要登入的使用者帳號相對應的密碼",trigger:"blur"},{type:"string",min:6,message:"長度要有 6 個字元",trigger:"blur"}]},SignUp:{name:"",email:"",password:"",passwordCheck:"",upline_id:0},SignUpRule:{name:[{required:!0,message:"填入要註冊的使用者帳號",trigger:"blur"}],email:[{required:!0,message:"填入要註冊的 email",trigger:"blur"},{type:"email",message:"請檢查 email 格式，是否有誤",trigger:"blur"}],password:[{required:!0,validator:function(t,n,r){""===n?r(new Error("填入一組密碼，符合長度 6 個字元以上")):(""!==e.SignUp.passwordCheck&&e.$refs.SignUp.validateField("passwordCheck"),r())},trigger:"blur"}],passwordCheck:[{required:!0,validator:function(t,n,r){""===n?r(new Error("再填入一樣的密碼")):n!==e.SignUp.password?r(new Error("兩邊不一樣，請再確認")):r()},trigger:"blur"}],upline_id:[{required:!0,type:"number",validator:function(e,t,n){t<1?n(new Error("填入上線的 ID 號碼")):n()},trigger:"blur"}]}}},methods:{signIn:function(){var e,t=this;this.$refs.SignIn.validate((e=u()(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return e.prev=1,e.next=4,t.$store.dispatch("Login",{password:t.SignIn.password,name:t.SignIn.username});case 4:t.$router.push("/Main"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),t.$Message.error("帳號密碼不匹配");case 11:e.next=14;break;case 13:t.$Message.error("帳號密碼格式出錯");case 14:case"end":return e.stop()}},e,t,[[1,7]])})),function(t){return e.apply(this,arguments)}))},signUp:function(){var e,t=this;this.$refs.SignUp.validate((e=u()(o.a.mark(function e(n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return r={email:t.SignUp.email,name:t.SignUp.name,password:t.SignUp.password,upline_id:t.SignUp.upline_id},e.next=4,t.$store.dispatch("CreateUser",r);case 4:t.switchAreaType=!0,e.next=8;break;case 7:t.$Message.error("註冊失敗");case 8:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},reset:function(){this.$refs.SignUp.resetFields()}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loginIn"},[n("QRcodeLogin"),e._v(" "),n("h2",[e._v("帳號登入")]),e._v(" "),n("i-switch",{model:{value:e.switchAreaType,callback:function(t){e.switchAreaType=t},expression:"switchAreaType"}}),e._v(" "),n("span",[e._v("切換到 "+e._s(e.areaType[e.switchAreaType]))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!!e.switchAreaType,expression:"!!switchAreaType"}],staticClass:"SignIn"},[n("Form",{ref:"SignIn",attrs:{model:e.SignIn,rules:e.SignInRule,"label-position":"top"}},[n("FormItem",{attrs:{label:"User Name",prop:"username"}},[n("Input",{attrs:{type:"text"},model:{value:e.SignIn.username,callback:function(t){e.$set(e.SignIn,"username",t)},expression:"SignIn.username"}})],1),e._v(" "),n("FormItem",{attrs:{label:"Password",prop:"password"}},[n("Input",{attrs:{type:"password"},model:{value:e.SignIn.password,callback:function(t){e.$set(e.SignIn,"password",t)},expression:"SignIn.password"}})],1),e._v(" "),n("FormItem",{staticClass:"sumitArea"},[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.signIn()}}},[e._v("SignIn")])],1)],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.switchAreaType,expression:"!switchAreaType"}],staticClass:"SignUp"},[n("Form",{ref:"SignUp",attrs:{model:e.SignUp,rules:e.SignUpRule,"label-position":"top"}},[n("FormItem",{attrs:{label:"User Name",prop:"name"}},[n("Input",{attrs:{type:"text"},model:{value:e.SignUp.name,callback:function(t){e.$set(e.SignUp,"name",t)},expression:"SignUp.name"}})],1),e._v(" "),n("FormItem",{attrs:{label:"email",prop:"email"}},[n("Input",{attrs:{type:"email"},model:{value:e.SignUp.email,callback:function(t){e.$set(e.SignUp,"email",t)},expression:"SignUp.email"}})],1),e._v(" "),n("FormItem",{attrs:{label:"Password",prop:"password"}},[n("Input",{attrs:{type:"password"},model:{value:e.SignUp.password,callback:function(t){e.$set(e.SignUp,"password",t)},expression:"SignUp.password"}})],1),e._v(" "),n("FormItem",{attrs:{label:"Confirm",prop:"passwordCheck"}},[n("Input",{attrs:{type:"password"},model:{value:e.SignUp.passwordCheck,callback:function(t){e.$set(e.SignUp,"passwordCheck",t)},expression:"SignUp.passwordCheck"}})],1),e._v(" "),n("FormItem",{attrs:{label:"Upline Id",prop:"upline_id"}},[n("Input",{model:{value:e.SignUp.upline_id,callback:function(t){e.$set(e.SignUp,"upline_id",t)},expression:"SignUp.upline_id"}})],1),e._v(" "),n("FormItem",{staticClass:"sumitArea"},[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.signUp()}}},[e._v("SignUp")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.reset()}}},[e._v("Reset")])],1)],1)],1)],1)},staticRenderFns:[]};var K=n("VU/8")(H,j,!1,function(e){n("bplC")},"data-v-164ffb6a",null).exports,X={data:function(){return{isReadyOnly:!1,columnsDragon:[{title:"夢寶龍的擁有者",key:"owner_name",minWidth:150},{title:"夢寶龍激活對象",key:"user_name",minWidth:150},{title:"是否激活",key:"isActivat",minWidth:100}]}},computed:{dragon:function(){return this.$store.getters.isExist("dragon","activeDragon")?this.$store.getters.activeDragon.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.isActivat=e.activated?"是":"否",e}):[]},pagingDragon:function(){return this.$store.getters.paging("dragon","activeDragon")},mode:function(){return{readyOnly:!this.isReadyOnly}},userName:{get:function(){return this.$store.getters.myName},set:function(e){this.$store.commit("myName",e)}}},methods:{changeDragonPage:function(e){var t=this;return u()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("goToActiveDragonPage",{nextIndex:e});case 2:case"end":return n.stop()}},n,t)}))()},change:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isReadyOnly){t.next=3;break}return t.next=3,e.$store.dispatch("whoAmI");case 3:case"end":return t.stop()}},t,e)}))()},modifyUserName:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("modifyMyName");case 2:e.$store.dispatch("goToActiveDragonPage",{nextIndex:1}),e.isReadyOnly=!1;case 4:case"end":return t.stop()}},t,e)}))()}}},Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"userProfile"},[n("h1",[e._v("個人資料")]),e._v(" "),n("Form",[n("FormItem",{attrs:{label:"修改䁥稱",inline:""}},[n("i-switch",{on:{"on-change":function(t){e.change()}},model:{value:e.isReadyOnly,callback:function(t){e.isReadyOnly=t},expression:"isReadyOnly"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1),e._v(" "),n("FormItem",[n("Input",{class:e.mode,staticStyle:{width:"300px"},attrs:{readonly:!e.isReadyOnly,placeholder:"Enter something..."},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.isReadyOnly,expression:"isReadyOnly"}],attrs:{type:"primary"},on:{click:function(t){e.modifyUserName()}}},[e._v("決定䁥稱")])],1)],1),e._v(" "),n("h2",[e._v("夢寶龍 × "+e._s(this.$store.getters.paging("dragon","activeDragon").total))]),e._v(" "),n("Page",{attrs:{total:e.pagingDragon.total,"page-size":e.pagingDragon.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changeDragonPage(t)}}}),e._v(" "),n("Table",{attrs:{columns:e.columnsDragon,data:e.dragon}})],1)},staticRenderFns:[]};var J=n("VU/8")(X,Z,!1,function(e){n("vcAV")},null,null).exports,Y={data:function(){return{currOperatable:"2",operatable_type:{2:"Dragon",3:"Tree"},actionType:["初始化（建立）","修改","激活","召回（錢包）","轉賬（美金）"],Tree:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者 ID",key:"operator_id",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"剩餘開採數量",key:"remain",minWidth:120},{title:"原始開採數量",key:"capacity",minWidth:120},{title:"目前開採進度",key:"progress",minWidth:120},{title:"接受人 ID",key:"user_id",minWidth:100}],Dragon:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者 ID",key:"operator_id",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"接受人 ID",key:"user_id",minWidth:100}]}},computed:{eventsLog:function(){var e=this;return this.$store.getters.eventsLog.data.map(function(t){return t.action=""+e.actionType[t.type],t.item=e.operatable_type[""+t.operatable_type]+" "+t.operatable_id,t.remain=t.result_data.remain,t.capacity=t.result_data.capacity,t.progress=t.result_data.progress,t})},paging:function(){return this.$store.getters.paging("user","eventsLog")},columns1:function(){return this[""+this.operatable_type[this.currOperatable]]}},methods:{changePage:function(e){var t=this;return u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=new URLSearchParams,n.next=3,t.$store.dispatch("EventsLog",{nextIndex:e,searchParams:r});case 3:case"end":return n.stop()}},n,t)}))()},changeType:function(){var e=this;return u()(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("operatable_type",e.currOperatable),r="1",t.next=5,e.$store.dispatch("EventsLog",{nextIndex:r,searchParams:n});case 5:case"end":return t.stop()}},t,e)}))()}}},ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"請選擇物品種類"},on:{"on-change":function(t){e.changeType()}},model:{value:e.currOperatable,callback:function(t){e.currOperatable=t},expression:"currOperatable"}},e._l(e.operatable_type,function(t,r){return n("Option",{key:t,attrs:{value:r}},[e._v(e._s(t))])})),e._v(" "),n("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columns1,data:e.eventsLog}})],1)},staticRenderFns:[]};var te=n("VU/8")(Y,ee,!1,function(e){n("oAXi")},null,null).exports,ne={data:function(){return{selectedGem:4,actionType:["初始化（建立）","修改","激活","召回（錢包）","轉賬（美金）"],columns1:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者 ID",key:"operator_id",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"餘額",key:"amount",align:"right",width:150},{title:"金額",key:"delta_amount",align:"right",width:150},{title:"接受人 ID",key:"user_id",minWidth:100}]}},computed:{eventsLog:function(){var e=this;return this.$store.getters.eventsLog.data.map(function(t){return t.action=[e.actionType[t.type],t.sub_type_string].filter(function(e){return null!==e}).join(" / "),t.item=""+e.$store.getters.gems[t.result_data.gem],t.amount=t.result_data.amount,t.delta_amount=null!==t.delta?""+t.delta.amount:"0",t})},paging:function(){return this.$store.getters.paging("user","eventsLog")},ids:function(){var e=this;return this.$store.getters.wallet.map(function(t){return t.title=""+e.$store.getters.gems[t.gem],t})},currOperatableId:{get:function(){var e=this;return this.$store.getters.wallet.filter(function(t){return t.gem===e.selectedGem}).shift().id},set:function(e){this.selectedGem=this.$store.getters.wallet.filter(function(t){return t.id===e}).shift().gem}}},methods:{changePage:function(e){var t=this;return u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new URLSearchParams).append("operatable_type","1"),t.currOperatableId&&r.append("operatable_id",t.currOperatableId),n.next=5,t.$store.dispatch("EventsLog",{nextIndex:e,searchParams:r});case 5:case"end":return n.stop()}},n,t)}))()},changeType:function(){var e=this;return u()(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("operatable_type","1"),e.currOperatableId&&n.append("operatable_id",e.currOperatableId),r="1",t.next=6,e.$store.dispatch("EventsLog",{nextIndex:r,searchParams:n});case 6:case"end":return t.stop()}},t,e)}))()}}},re={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"請選擇物品 Id"},on:{"on-change":function(t){e.changeType()}},model:{value:e.currOperatableId,callback:function(t){e.currOperatableId=t},expression:"currOperatableId"}},e._l(e.ids,function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.title))])})),e._v(" "),n("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),n("Table",{attrs:{stripe:"",columns:e.columns1,data:e.eventsLog}})],1)},staticRenderFns:[]};var ae=n("VU/8")(ne,re,!1,function(e){n("IshP")},null,null).exports,se=this;r.default.use(l.a);var ie,oe=new l.a({routes:[{path:"/",redirect:"/Login"},{path:"/Login",name:"Login",component:K},{path:"/Main",name:"Main",component:h,redirect:"/Main/UserProfile",children:[{path:"notStart",name:"notStart",component:f},{path:"UserProfile",name:"UserProfile",component:J},{path:"Dragon",name:"Dragon",component:_},{path:"Tree",name:"Tree",component:T},{path:"Activating",name:"Activating",component:D},{path:"ChildAccount",name:"ChildAccount",component:P},{path:"Wallet",name:"Wallet",component:L},{path:"TransferUSD",name:"TransferUSD",component:z},{path:"BuyDragon",name:"BuyDragon",component:F},{path:"Group",name:"Group",component:M},{path:"EventsLog",name:"EventsLog",component:te},{path:"WalletLog",name:"WalletLog",component:ae}]}]});oe.beforeEach((ie=u()(o.a.mark(function e(t,n,r){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.name||"Login"===t.name||void 0!==oe.app.$store&&0!==oe.app.$store.getters.token.length||oe.push("/Login"),"Login"!==n.name){e.next=7;break}return e.next=4,oe.app.$store.dispatch("whoAmI");case 4:oe.app.$store.dispatch("allChildAccount"),oe.app.$store.dispatch("userDownLines",{idUser:oe.app.$store.getters.myId}),oe.app.$store.dispatch("WalletPage");case 7:if(void 0===oe.app.$store){e.next=47;break}a=new URLSearchParams,e.t0=t.name,e.next="UserProfile"===e.t0?12:"Activating"===e.t0?15:"BuyDragon"===e.t0?17:"Tree"===e.t0?21:"Dragon"===e.t0?21:"ChildAccount"===e.t0?21:"Group"===e.t0?30:"Wallet"===e.t0?33:"TransferUSD"===e.t0?33:"EventsLog"===e.t0?36:"WalletLog"===e.t0?40:47;break;case 12:return e.next=14,oe.app.$store.dispatch("goToActiveDragonPage",{nextIndex:1});case 14:return e.abrupt("break",47);case 15:return oe.app.$store.dispatch("goToActiveTreePage",{nextIndex:1}),e.abrupt("break",47);case 17:return e.next=19,oe.app.$store.dispatch("goToAllDragonPage",{nextIndex:1});case 19:return oe.app.$store.dispatch("WalletPage"),e.abrupt("break",47);case 21:if(oe.app.$store.getters.self.is_child_account){e.next=27;break}return e.next=24,oe.app.$store.dispatch("whoAmI");case 24:return oe.app.$store.dispatch("allChildAccount"),e.next=27,oe.app.$store.dispatch("goTo"+t.name+"Page",{nextIndex:1});case 27:return oe.app.$store.dispatch("userDownLines",{idUser:oe.app.$store.getters.myId}),oe.app.$store.dispatch("WalletPage"),e.abrupt("break",47);case 30:return e.next=32,oe.app.$store.dispatch("userDownLines",{idUser:oe.app.$store.getters.myId});case 32:return e.abrupt("break",47);case 33:return e.next=35,oe.app.$store.dispatch("WalletPage");case 35:return e.abrupt("break",47);case 36:return a.append("operatable_type","2"),e.next=39,oe.app.$store.dispatch("EventsLog",{nextIndex:1,searchParams:a});case 39:return e.abrupt("break",47);case 40:return e.next=42,oe.app.$store.dispatch("WalletPage");case 42:return a.append("operatable_type","1"),a.append("operatable_id",oe.app.$store.getters.wallet.filter(function(e){return 4===e.gem}).shift().id),e.next=46,oe.app.$store.dispatch("EventsLog",{nextIndex:1,searchParams:a});case 46:return e.abrupt("break",47);case 47:r();case 48:case"end":return e.stop()}},e,se)})),function(e,t,n){return ie.apply(this,arguments)}));var ce=oe,ue=n("NYxO"),le=n("woOf"),pe=n.n(le),de={state:{childAccount:{},userDownLines:{},allChildAccount:[],mySelf:{},eventsLog:{}},getters:{myId:function(e){return e.mySelf.id},myName:function(e){return e.mySelf.name},eventsLog:function(e){return e.eventsLog},childAccount:function(e){return e.childAccount.data},self:function(e){return e.mySelf},downlines:function(e){return e.userDownLines.downlines},allChildAccount:function(e){return e.allChildAccount},allUsers:function(e){var t={};return t[""+e.mySelf.id]=e.mySelf,e.allChildAccount.forEach(function(e){t[e.id]=e}),e.userDownLines&&e.userDownLines.downlines&&e.userDownLines.downlines.forEach(function(e){t[e.id]=e}),y()(t).filter(function(e){return!e.activated})}},mutations:{myName:function(e,t){e.mySelf.name=t},IAm:function(e,t){e.mySelf=t},allChildAccount:function(e,t){e.allChildAccount=t},setChildAccount:function(e,t){e.childAccount=t},setUserDownLines:function(e,t){e.userDownLines=t},eventsLog:function(e,t){e.eventsLog=t}},actions:{allChildAccount:function(e){var t=this,n=e.dispatch,r=e.commit,a=e.getters;return u()(o.a.mark(function e(){var s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.myId,e.next=3,n("GET","/api/users/"+s+"/child-accounts?hello=world&activated=1");case 3:return i=e.sent,e.next=6,n("accountAndWallet",{array:i.data});case 6:i.data=e.sent,r("allChildAccount",i);case 8:case"end":return e.stop()}},e,t)}))()},goToChildAccountPage:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.nextIndex;return u()(o.a.mark(function e(){var t,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,r("GET","/api/users/"+t+"/child-accounts?page="+i);case 4:return c=e.sent,e.next=7,r("accountAndWallet",{array:c.data});case 7:c.data=e.sent,a("setChildAccount",c);case 9:case"end":return e.stop()}},e,n)}))()},addChildAccount:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.data;return u()(o.a.mark(function e(){var t,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.myId,e.next=3,r("POST",{data:i,path:"/api/users/"+t+"/child-accounts"});case 3:return c=e.sent,e.next=6,r("accountAndWallet",{array:c.data});case 6:c.data=e.sent,a("setChildAccount",c);case 8:case"end":return e.stop()}},e,n)}))()},userDownLines:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=t.idUser;return u()(o.a.mark(function e(){var t,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/"+s);case 2:return t=e.sent,i=[],t.downlines.forEach(function(){var e=u()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("allTreeStatus",{id:t.id});case 2:a=e.sent,i.push(pe()({},t,a));case 4:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}()),t.downlines=i,e.next=8,r("allTreeStatus",{id:t.id});case 8:c=e.sent,a("setUserDownLines",pe()({},t,c));case 10:case"end":return e.stop()}},e,n)}))()},childAccountWallet:function(e,t){var n=this,r=e.dispatch,a=(e.commit,t.idUser);return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/"+a+"/wallets?page=1");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,n)}))()},accountAndWallet:function(e,t){var n,r=this,a=e.dispatch,s=(e.commit,t.array);if(void 0!==s&&"Array"===s.constructor.name){var i=[];return s.forEach((n=u()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("childAccountWallet",{idUser:t.id});case 2:e.sent.data.forEach(function(e){t["gem"+e.gem]=t.activated?e.amount:""}),i.push(pe()({},t));case 5:case"end":return e.stop()}},e,r)})),function(e){return n.apply(this,arguments)})),i}return[]},whoAmI:function(e){var t=this,n=e.dispatch,r=e.commit;return u()(o.a.mark(function e(){var a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("GET","/api/users/me");case 2:return a=e.sent,e.next=5,n("allTreeStatus",{id:a.id});case 5:s=e.sent,r("IAm",pe()({},a,s));case 7:case"end":return e.stop()}},e,t)}))()},modifyMyName:function(e){var t=this,n=e.dispatch,r=e.commit,a=e.getters;return u()(o.a.mark(function e(){var s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.myId,e.next=3,n("PUT",{path:"/api/users/"+s,data:{name:a.myName}});case 3:i=e.sent,r("myName",i.name);case 5:case"end":return e.stop()}},e,t)}))()},allTreeStatus:function(e,t){return(0,e.dispatch)("GET","/api/users/"+t.id+"/tree-stats")},EventsLog:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.nextIndex,c=t.searchParams;return u()(o.a.mark(function e(){var t,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,(c=c||new URLSearchParams).append("page",""+i),e.next=6,r("GET","/api/users/"+t+"/operation-histories?"+c.toString());case 6:u=e.sent,a("eventsLog",u);case 8:case"end":return e.stop()}},e,n)}))()}}},me=n("Dd8w"),he=n.n(me),ge=n("mtWM"),fe=n.n(ge),ve={CreateUser:function(e,t){var n=this,r=(e.dispatch,e.getters);return u()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={Accept:"application/json","Content-Type":"application/json"},e.next=3,fe.a.post(r.host+"/api/users",t,{headers:a});case 3:case"end":return e.stop()}},e,n)}))()},Login:function(e,t){var n=this,r=(e.dispatch,e.commit),a=e.getters,s=t.name,i=t.password;return u()(o.a.mark(function e(){var t,c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json"},c={grant_type:"password",username:s,password:i,client_id:"2",client_secret:""+a.secret},e.next=4,fe.a.post(a.host+"/oauth/token",c,{headers:t});case 4:u=e.sent,r("token",u.data);case 6:case"end":return e.stop()}},e,n)}))()},LoginQRcode:function(e){var t=this,n=(e.dispatch,e.commit),r=e.getters;return u()(o.a.mark(function e(){var a,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json"},s={grant_type:"qrcode",id:""+r.qrcodeUser.id,password:""+r.qrcodeUser.password,client_id:"2",client_secret:""+r.secret},e.next=4,fe.a.post(r.host+"/oauth/token",s,{headers:a});case 4:i=e.sent,n("token",i.data);case 6:case"end":return e.stop()}},e,t)}))()},CreateQRcode:function(e){var t=this,n=e.commit,r=e.getters;return u()(o.a.mark(function e(){var a,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={Accept:"application/json"},s={id:10,password:"h%1`2{A/A",qrcode_url:"https://uim.dreamsgem.net/applets?action=/applets/dreamsgem/auth/scan-login/10"},e.next=4,fe.a.post(r.host+"/api/qrcodes",s,{headers:a});case 4:i=e.sent,n("setQRcodeData",i.data);case 6:case"end":return e.stop()}},e,t)}))()},GET:function(e,t){var n=this,r=e.getters;return u()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.get(""+r.host+t,{headers:he()({},r.headers)});case 2:if(200!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",a.data);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,n)}))()},POST:function(e,t){var n=this,r=e.getters,a=t.path,s=t.data;return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.post(""+r.host+a,s,{headers:he()({},r.headers,{"Content-Type":"application/json"})});case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,n)}))()},PUT:function(e,t){var n=this,r=e.getters,a=t.path,s=t.data;return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.put(""+r.host+a,s,{headers:he()({},r.headers,{"Content-Type":"application/json"})});case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,n)}))()}},we={state:{allDragon:{},dragon:{},activeDragon:{}},getters:{allDragon:function(e){return e.allDragon.data},dragon:function(e){return e.dragon.data},activeDragon:function(e){return e.activeDragon.data}},mutations:{setAllDragonList:function(e,t){e.allDragon=t},setDragonList:function(e,t){e.dragon=t},setActiveDragonList:function(e,t){e.activeDragon=t}},actions:{buyDragon:function(e,t){var n=this,r=e.dispatch,a=t.idDragon,s=t.data;return u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("PUT",{path:"/api/dragons/"+a,data:s});case 2:case"end":return e.stop()}},e,n)}))()},activateDragon:function(e,t){var n=this,r=e.dispatch,a=t.idDragon,s=t.data;return u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("PUT",{path:"/api/dragons/"+a,data:s});case 2:case"end":return e.stop()}},e,n)}))()},goToAllDragonPage:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=t.nextIndex;return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=s||1,e.next=3,r("GET","/api/dragons?page="+s);case 3:t=e.sent,a("setAllDragonList",t);case 5:case"end":return e.stop()}},e,n)}))()},goToDragonPage:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.nextIndex;return u()(o.a.mark(function e(){var t,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,r("GET","/api/dragons?owner_id="+t+"&activated=0&page="+i);case 4:c=e.sent,a("setDragonList",c);case 6:case"end":return e.stop()}},e,n)}))()},goToActiveDragonPage:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.nextIndex;return u()(o.a.mark(function e(){var t,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,r("GET","/api/dragons?user_id="+t+"&page="+i);case 4:c=e.sent,a("setActiveDragonList",c);case 6:case"end":return e.stop()}},e,n)}))()}}},_e={state:{tree:{},activeTree:{}},getters:{tree:function(e){return e.tree.data},activeTree:function(e){return e.activeTree.data}},mutations:{setTreeList:function(e,t){e.tree=t},setActiveTreeList:function(e,t){e.activeTree=t}},actions:{buyTree:function(e,t){var n=this,r=e.dispatch,a=e.getters,s=t.data;return u()(o.a.mark(function e(){var t,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.myId,i="/api/users/"+t+"/trees",e.next=4,r("POST",{path:i,data:s});case 4:case"end":return e.stop()}},e,n)}))()},activateTree:function(e,t){var n=this,r=e.dispatch,a=e.getters,s=t.idTree,i=t.data;return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.myId,e.next=3,r("PUT",{path:"/api/users/"+t+"/trees/"+s,data:i});case 3:case"end":return e.stop()}},e,n)}))()},goToTreePage:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.nextIndex;return u()(o.a.mark(function e(){var t,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,r("GET","/api/users/"+t+"/trees?owner_id="+t+"&activated=0&page="+i);case 4:c=e.sent,a("setTreeList",c);case 6:case"end":return e.stop()}},e,n)}))()},goToActiveTreePage:function(e,t){var n=this,r=e.dispatch,a=e.commit,s=e.getters,i=t.nextIndex;return u()(o.a.mark(function e(){var t,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,r("GET","/api/users/"+t+"/trees?user_id="+t+"&page="+i+"&remain_available=1");case 4:c=e.sent,a("setActiveTreeList",c);case 6:case"end":return e.stop()}},e,n)}))()}}},xe={state:{wallet:{}},getters:{wallet:function(e){return e.wallet.data},idUsdWallet:function(e,t){return t.isExist("wallet","wallet")?e.wallet.data.filter(function(e){return 4===e.gem}).shift().id:0}},mutations:{setWallet:function(e,t){e.wallet=t}},actions:{WalletPage:function(e){var t=this,n=e.dispatch,r=e.commit,a=e.getters;return u()(o.a.mark(function e(){var s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.myId,e.next=3,n("GET","/api/users/"+s+"/wallets?page=1");case 3:i=e.sent,r("setWallet",i);case 5:case"end":return e.stop()}},e,t)}))()},TransferUSD:function(e,t){var n=this,r=e.dispatch,a=e.getters,s=t.data;return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.idUsdWallet,e.next=3,r("POST",{path:"/api/wallets/"+t+"/transfers",data:s});case 3:case"end":return e.stop()}},e,n)}))()}}};r.default.use(ue.a);var ye=new ue.a.Store({state:{host:"https://staging.dreamsgemdragon.com",token:"",token_type:"",qrCode:{},secret:"vZ08ruaFRkqnDgzWJhnUImmIBtNON19YAzdKWSRF"},getters:{isExist:function(e){return function(t,n){return!!e[t][n].data&&"Array"===e[t][n].data.constructor.name}},isLogin:function(e){return 0!==e.token.length},token:function(e){return e.token},host:function(e){return e.host},secret:function(e){return e.secret},paging:function(e){return function(t,n){return{total:e[t][n].total,pre_page:e[t][n].per_page,curr_page:e[t][n].current_page}}},headers:function(e){return{Accept:"application/json",Authorization:e.token_type+" "+e.token}},gems:function(){return["七彩寶石","多喜寶石","多福寶石","多財寶石","美金"]},qrcode:function(e){return e.qrCode.qrcode_url},qrcodeUser:function(e){return e.qrCode}},mutations:{token:function(e,t){e.token=t.access_token,e.token_type=t.token_type},setQRcodeData:function(e,t){e.qrCode=t}},actions:ve,modules:{user:de,dragon:we,tree:_e,wallet:xe}}),ke=n("BTaQ"),be=n.n(ke);n("+skl"),n("S8AV");r.default.use(be.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:ce,store:ye,components:{App:s},template:"<App/>"})},PyqD:function(e,t){},S8AV:function(e,t){},SW59:function(e,t){},SWKE:function(e,t){},TRmd:function(e,t){},ZdXK:function(e,t){},bHAn:function(e,t){},bplC:function(e,t){},g1Gy:function(e,t){},klCw:function(e,t){},"o/xz":function(e,t){},oAXi:function(e,t){},vcAV:function(e,t){},xw02:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.22bc344302a4c13eaed6.js.map